# ALPINE
FROM alpine:3.16
# MISE A JOUR ET INSTALLATION NODEJS & NPM
RUN apk update \
    && apk add --update nodejs npm \
    && apk --no-cache add curl
# DEPLACEMENT DANS LE DOSSIER HOME
WORKDIR /home/
# EXECUTION DE LA COMMANDE DE CREATION DU DOSSIER REACT
RUN mkdir express
# DEPLACEMENT DANS LE DOSSIER REACT
WORKDIR /express/
# COPIE DU PROJET SYMFONY DANS NOTRE IMAGE (COPY SOURCE DESTINATION)
COPY . . 
# EXECUTION DES PACKAGES DU PROJET
RUN npm install 
# DEMARRAGE DU PROJET
CMD ["npm","start"]
# HEALTHCHECK
